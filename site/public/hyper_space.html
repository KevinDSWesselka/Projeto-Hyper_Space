<!DOCTYPE html>
<html lang="pt_br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/base.css">
  <link rel="shortcut icon"
    href="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/15134c4c-39a0-4476-8a3f-2c5d96ce27d6/d9b680y-fdeae898-390c-4bd9-b0f7-c48693dd602e.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzE1MTM0YzRjLTM5YTAtNDQ3Ni04YTNmLTJjNWQ5NmNlMjdkNlwvZDliNjgweS1mZGVhZTg5OC0zOTBjLTRiZDktYjBmNy1jNDg2OTNkZDYwMmUucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.CQxZXahvjoULgcl24xgXrIbQs-KKCo8mrd92vhouwDY" />
  <title>Hyper-Space | Home</title>
</head>

<body>
  <div class="header">
    <div class="magin_nav_bar">

    </div>
    yoda
    <div class="nav_bar">
      <ul>
        <li><a href="./index.html">Home</a></li>
        <li><a id="link_select" href="">Hyper Space</a></li>
        <li><a href="./paths.html">Paths of the Force</a></li>
        <li><a href="./cadastro.html">Sing-in</a></li>
        <li><a href="./login.html">Log-in</a></li>
      </ul>
    </div>
  </div>
  <div id="conteudo">
    <div id="container">
      <h1>HYPER-SPACE</h1>
      <img src="" alt="">
      <p>
        <span id="span_lado"></span>

        <span>
          <div id="titulo"></div>
          <div id="img"></div>
          <div style="width: 470px;" id="grafico"></div>
          <div id="texto"></div>
          <span id="like_deslike">
            <div class="like" onclick="btn_linke()">LIKE</div>
          </span>
          <span id="span_likes">0</span>
        </span>

      </p>
    </div>
  </div>
  <div class="footer">
    <div class="container_footer">
      <a href="https://www.linkedin.com/in/kevin-s-wesselka-systems-developer/">
        <img src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/linkedin_circle-512.png"
          alt="">
      </a>
      <a href="https://github.com/KevinDSWesselka">
        <img src="https://cdn.icon-icons.com/icons2/2429/PNG/512/github_logo_icon_147285.png" alt="">
      </a>
      <a href="https://www.instagram.com/">
        <img src="https://cpaq.ufms.br/files/2022/03/Instagram-logo-free-download-PNG-e1647376733700.png" alt="">
      </a>
    </div>
    <p>
      Star Wars - Hyper Space™
    </p>
  </div>
</body>

</html>

<script>

  var likes = 0;

  function btn_linke(){
    likes++

    span_likes.innerHTML = `${likes}`
    like_deslike.innerHTML = `<div class="deslike" onclick="btn_deslike()">LIKE</div>`
  }

  function btn_deslike(){
    likes--

    span_likes.innerHTML = `${likes}`
    like_deslike.innerHTML = `<div class="like" onclick="btn_linke()">LIKE</div>`
  }

  function lado_da_forca() {
    if (sessionStorage.JEDI > sessionStorage.SITH) {
      span_lado.innerHTML = `Vejo que você tem <span style="color: blue;"> ${sessionStorage.JEDI}% de vocação ao lado JEDI</span>`
    } else if (sessionStorage.JEDI < sessionStorage.SITH) {
      span_lado.innerHTML = `Vejo que você tem <span style="color: red;"> ${sessionStorage.SITH}% de vocação ao lado SITH</span>`
    } else if (sessionStorage.JEDI == 'null') {
      span_lado.innerHTML = `Você ainda não obteve acesso a força! 
      <a href="./login.html">Click aqui e logue agora</a>`;
    } else if (sessionStorage.length == 0) {
      span_lado.innerHTML = `Você ainda não obteve acesso a força! 
      <a href="./login.html">Click aqui e logue agora</a>`;
    } else {
      span_lado.innerHTML = `Vejo que você tem <span style="color: gold;"> ${sessionStorage.SITH}% SITH e ${sessionStorage.JEDI}% JEDI, você tem o equilibrio da força </span>`
    }
  }

  lado_da_forca()

  window.onload = () => {
    fetch("/personagens/pegar_personagens", {
      method: "GET",
      headers: {
        "Content-Type": "application/json",
      }
    }).then(async function (response) {
      var characters = await response.json();
      for (let i = 0; i < characters.length; i++) {
        var character = characters[i]
        titulo.innerHTML = `<h1>${character.nome_personagem}</h1>`
        img.innerHTML = `<img style="height: 250px;" src="${character.url_personagem}" alt="">`
        texto.innerHTML = `<span>${character.desc_texto}</span>`
        grafico.innerHTML = `
        <div class="grafico">
          <h3>Tendencia da Força de ${character.nome_personagem}</h3>
          ${character.sith_por_cen}% Jedi<div style="width: ${character.sith_por_cen}%; height: 30px; margin: 5px; background-color: green; transition: 2.5s;"></div>
          ${character.jedi_por_cen}% Sith<div style="width: ${character.jedi_por_cen}%; height: 30px; margin: 5px; background-color: red; transition: 2.5s;"></div>
        </div>
        <div style="widhth: 250px;" class="grafico">
          <h3>Tendencia da Força de ${sessionStorage.NOME_USUARIO}</h3>
          ${sessionStorage.SITH}% Jedi<div style="width: ${sessionStorage.SITH}%; height: 30px; margin: 5px; background-color: blue; transition: 2.5s;"></div>
          ${sessionStorage.JEDI}% Sith<div style="width: ${sessionStorage.JEDI}%; height: 30px; margin: 5px; background-color: red; transition: 2.5s;"></div>
        </div>
            `
        console.log(character)
      }
    });
  }
</script>